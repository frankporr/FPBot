<!DOCTYPE html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Simple co-browse with chat example</title>
</head>
<body>

    <h1>Simple co-browse with chat example</h1>
    <form>
        <label for="firstName">First Name</label>
        <input type="text" id="firstName" size="20" value="Joe" />

        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" size="20" value="Customer" />

        <label for="agentEmail">Agent Email</label>
        <input type="text" id="agentEmail" size="20" value="alex.agent@example.com" />

        <button type="button" id="start-chat" onclick="genesysWebchat.startEmbeddedChat()">Start Embedded Chat</button>
        
<script
  id="purecloud-webchat-js"
  type="text/javascript"
  src="https://apps.mypurecloud.com/webchat/jsapi-v1.js"
  region="us-east-1"
  org-guid="c8bb9493-2b8c-415a-b7b1-44cef16960f8"
  deployment-key="c267637f-993c-4ae4-b7bf-c417faf9e23e"
></script>
let chatConfig = {
  "webchatAppUrl": "https://apps.mypurecloud.com/webchat",
  "webchatServiceUrl": "https://realtime.mypurecloud.com:443",
  "orgId": "30907",
  "orgGuid": "c8bb9493-2b8c-415a-b7b1-44cef16960f8",
  "orgName": "latamps",
  "queueName": "LATAM Assisted Operations",
  "logLevel": "DEBUG",
  "locale": "en",
  "data": {
    "firstName": "Franklin",
    "lastName": "Porras",
    "addressStreet": "",
    "addressCity": "",
    "addressPostalCode": "",
    "addressState": "",
    "phoneNumber": "",
    "customField1Label": "",
    "customField1": "",
    "customField2Label": "",
    "customField2": "",
    "customField3Label": "",
    "customField3": ""
  },
  "companyLogo": {
    "width": 600,
    "height": 149,
    "url": "https://d3a63qt71m2kua.cloudfront.net/developer-tools/2027/assets/images/PC-blue-nomark.png"
  },
  "companyLogoSmall": {
    "width": 25,
    "height": 25,
    "url": "https://d3a63qt71m2kua.cloudfront.net/developer-tools/2027/assets/images/companylogo.png"
  },
  "agentAvatar": {
    "width": 462,
    "height": 462,
    "url": "https://d3a63qt71m2kua.cloudfront.net/developer-tools/2027/assets/images/agent.jpg"
  },
  "welcomeMessage": "Thanks for chatting using the dev tools chat page.",
  "cssClass": "webchat-frame",
  "css": {
    "width": "100%",
    "height": "100%"
  }
},

                // Deployment key for your cobrowse deployment from PureCloud admin UI
                "cobrowseConfig": {
                    "deploymentKey": "s9av9rsFnz8YmsI6Da6kllyaA73CKW2o",
                }
            };
        }
        return {
            startEmbeddedChat: function() {
                let chatConfig = createChatConfig();
                ININ.webchat.create(chatConfig, function(err, webchat) {
                    if (err) {
                        console.error('Unable to share page', (err.stack || err));
                        return;
                    }

                    //Render to frame
                    webchat.renderFrame({
                        containerEl: 'chatContainer'
                    });

                });
            }
        }
    })();
    </script>

</body>
</html>
